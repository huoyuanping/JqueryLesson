<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>hello.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
	<script type="text/javascript" src="jquery-3.1.0.js"></script>
	
	<script type="text/javascript">
	
	//dom元素初始化完成之后才会调用
	$(function(){
		
		$("input[type='button']").click(function(){
			var addCode=$("#addCode").val();
			var url="http://restapi.amap.com/v3/weather/weatherInfo?key=27fdf559d3eea6261a682298a8994a2a&city="+addCode;
			//$.ajax是对象的一个静态方法
		 	$.ajax({
		 	   //请求method类型
			   type: "GET",
			   //请求的路径
			   url: url,
			   //自动转成json对象 返回字符串转成json对象
			   dataType:'json',
			   //传送数据
			   data: "name=John&location=Boston",
			   //请求响应的回调函数  参数1就是写回的json数据
			   success: function(msg){
			  		var tq=msg.lives[0].weather;
			  		$("div").remove();
			  		if(tq=="晴"){
			  			$(document.body).append("<div><img src='qt.png'/></div>")
			  		}else{
			  			$(document.body).append("<div><img src='dy.png'/></div>")
			  		}
			   }
			});
		});
	});
		
	</script>
  </head>
  
  <body>
    <input id="addCode" type="text" value=""/><input type="button" value="获取天气"/>
  </body>
</html>
