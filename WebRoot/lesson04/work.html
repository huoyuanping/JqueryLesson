<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>hello.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
	<script type="text/javascript" src="jquery-3.1.0.js"></script>
	
	<script type="text/javascript">
	
	//dom元素初始化完成之后才会调用
	$(function(){
		
		$("input[type='button']").click(function(){
			var pro=$("#pro").val();
			var url="http://restapi.amap.com/v3/ip?key=09a1956b684aaa6cf57f63d5b82b3192&ip="+pro;
			//$.ajax是对象的一个静态方法
		 	$.ajax({
		 	   //请求method类型
			   type: "GET",
			   //请求的路径
			   url: url,
			   //自动转成json对象 返回字符串转成json对象
			   dataType:'json',

			   success: function(msg){
			  		var ip=msg.province;
			  		var city=msg.city; 
			  		$("div").remove();
			  		$(document.body).append("<div>你所获取的公网地址"+ip,city+"</div>");
			  		
			   }
			});
		});
	});
		
	</script>
  </head>
  
  <body>
    <input id="pro" type="text" value=""/><input type="button" value="获取公网ip"/>
  </body>
</html>
